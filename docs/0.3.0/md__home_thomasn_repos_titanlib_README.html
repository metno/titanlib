<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Titanlib 0.2.0b3: Titanlib</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Titanlib 0.2.0b3
   </div>
   <div id="projectbrief">Library for quality control algorithms</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Titanlib </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/metno/titanlib/releases">&lt;img src="https://img.shields.io/github/v/release/metno/titanlib.svg" alt=""Latest release""/&gt;</a> <a href="https://github.com/metno/titanlib/actions"></a></p>
<p>Titanlib is a library of automatic quality control routines for weather observations. It emphases spatial checks and is suitable for use with dense observation networks, such as citizen weather observations. It is written in C++ and has bindings for python and R. The library consists of a set of functions that perform tests on data.</p>
<p>Titanlib is currently under active development and the current version is a prototype for testing. Feedback is welcome, either by using the issue tracker in Github, or by contacting Thomas Nipen (<a href="#" onclick="location.href='mai'+'lto:'+'tho'+'ma'+'sn@'+'me'+'t.n'+'o'; return false;">thoma<span style="display: none;">.nosp@m.</span>sn@m<span style="display: none;">.nosp@m.</span>et.no</a>).</p>
<div class="image">
<img src="extras/image.jpg" alt="Example of titanlib"/>
</div>
<h2>Documentation</h2>
<p>For more information on how to use Titanlib, check out the wiki at <a href="https://github.com/metno/titanlib/wiki">https://github.com/metno/titanlib/wiki</a>.</p>
<h2>Features</h2>
<ul>
<li>A wide variety of spatial checks, such as <b>spatial consistency test</b>, <b>buddy check</b>, <b>isolation check</b>.</li>
<li>Plausability tests such as <b>range check</b> and <b>climatology check</b>.</li>
<li>A graphical interface for tuning the parameters of the checks</li>
<li>Fast C++ implementation for efficient processing of large observation datasets</li>
</ul>
<h2>Required dependencies</h2>
<ul>
<li><a href="https://www.boost.org/">Boost</a> &gt;= 1.59</li>
<li><a href="https://www.gnu.org/software/gsl/">GNU Scientific Library</a></li>
</ul>
<p>On Ubuntu Bionic, these can be installed like this: </p><div class="fragment"><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install libboost-all-dev</div><div class="line">sudo apt-get install libgsl-dev libblas-dev</div></div><!-- fragment --><h2>Installing the python bindings from pip</h2>
<p>The easiest is to install the latest release of the package using pip. Provided you have installed the dependencies listed above, you can install the most recent release of the python package as follows: </p><div class="fragment"><div class="line">pip3 install titanlib --user</div></div><!-- fragment --><p>To check that the installation worked, run the following in python3: </p><div class="fragment"><div class="line">import titanlib</div><div class="line">print(titanlib.version())</div></div><!-- fragment --><h2>Full installation from source</h2>
<ol type="1">
<li>Either download the source code from the <a href="https://github.com/metno/titanlib/releases">latest release</a>, unzip the file and navigate into the extracted folder; or clone the repo from github.</li>
<li>Install extra requirements</li>
</ol>
<p>These are only required when installing from source </p><div class="fragment"><div class="line">sudo apt install swig cmake</div></div><!-- fragment --><ol type="1">
<li>Set up cmake installation</li>
</ol>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake ..</div></div><!-- fragment --><ol type="1">
<li>Install the C++ library</li>
</ol>
<div class="fragment"><div class="line">sudo make install</div></div><!-- fragment --><p> This will install the library in <code>/usr/local/lib/libtitanlib.so</code>.</p>
<ol type="1">
<li>Install the python bindings</li>
</ol>
<div class="fragment"><div class="line">make install-python-user</div></div><!-- fragment --><p>This installs the python bindings in <code>~/local/lib/python3.6/site-packages/titanlib.py</code>. To install the python bindings system-wide, use <code>sudo make install-python</code> instead.</p>
<ol type="1">
<li>Install the R bindings</li>
</ol>
<div class="fragment"><div class="line">make build-r</div></div><!-- fragment --><p>Currently, the R package is not installed centrally, but instead is placed in <code>extras/SWIG/R/titanlib.R</code> in the build directory.</p>
<h2>Python example</h2>
<p>Here is an example using the buddy check, which has the following function signature: </p><div class="fragment"><div class="line">buddy_check(lats, lons, elevs, values, radius, num_min, threshold, max_elev_diff, elev_gradient, min_std, num_iterations)</div></div><!-- fragment --><p>The test reveals that the last observation (-111) is likely faulty:</p>
<div class="fragment"><div class="line">import titanlib</div><div class="line">flags = titanlib.buddy_check([60,60.1,60.2],[10,10,10],[0,0,0],[0, 1, -111], [50000],[2],2,200,0,1,2)</div><div class="line">print(flags)</div></div><!-- fragment --><h2>R example</h2>
<p>Run the following code in R from the build directory, or if you want to run from any other directory, just put in the proper paths for rtitanlib and titanlib.R</p>
<div class="fragment"><div class="line">dyn.load(paste(&quot;extras/SWIG/R/titanlib&quot;, .Platform$dynlib.ext, sep=&quot;&quot;))</div><div class="line">source(&quot;extras/SWIG/R/titanlib.R&quot;)</div><div class="line">cacheMetaData(1)</div><div class="line"></div><div class="line">sct(c(60,60.1,60.2), c(10,10,10), c(0,0,0), c(0,1,-111),50000,2,2,100,0,1,2)</div></div><!-- fragment --><h2>Copyright and license</h2>
<p>Copyright Â© 2019-2020 Norwegian Meteorological Institute. Titanlib is licensed under The GNU Lesser General Public License (LGPL). See LICENSE file.</p>
<h2>Contact</h2>
<p>E-mail: Thomas Nipen (<a href="#" onclick="location.href='mai'+'lto:'+'tho'+'ma'+'sn@'+'me'+'t.n'+'o'; return false;">thoma<span style="display: none;">.nosp@m.</span>sn@m<span style="display: none;">.nosp@m.</span>et.no</a>) </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 8 2020 14:51:14 for Titanlib 0.2.0b3 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
